{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}GL Detail{% endblock %}

{% block content %}
<br>
<h5>Account Details</h5>
<hr>

<div class="row">
    <div class="col-md-6">
        <table class="table table-bordered">
            <tr>
                <th>Entity</th>
                <td>{{ gldetail.entity }}</td>
            </tr>
            <tr>
                <th>Period</th>
                <td>{{ gldetail.period }}</td>
            </tr>
            <tr>
                <th>GL Number</th>
                <td>{{ gldetail.glnum }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ gldetail.gldesc }}</td>
            </tr>
            <tr>
                <th>Amount</th>
                <td>{{ gldetail.glamt }}</td>
            </tr>
            <tr>
                <th>Owner</th>
                <td>{{ gldetail.username }}</td>
            </tr>
        </table>
    </div>
</div>

<hr>
<h5>Associated GL Posts</h5>
<div class="row">
    <div class="col-md-10">
        {% if gldetail.glpost_set.exists %}
        <table class="table table-striped table-hover">
            <thead class="thead-dark">
                <tr>
                    <th>Date</th>
                    <th>Account</th>
                    <th>Description</th>
                    <th>Debit</th>
                    <th>Credit</th>
                </tr>
            </thead>
            <tbody>
                {% for post in gldetail.glpost_set.all %}
                <tr>
                    <td>{{ post.date }}</td>
                    <td>{{ post.account }}</td>
                    <td>{{ post.description }}</td>
                    <td>{{ post.debit }}</td>
                    <td>{{ post.credit }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-muted">No GL Post entries available.</p>
        {% endif %}
    </div>
</div>

<br><br>
{% endblock %}